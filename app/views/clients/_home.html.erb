<!-- 

- полученные айди активных и текущих, нужно пропускать через финд при фор, и возвращать труе, если они есть, актив в приоретете

- сделать отмену абонемента (плюс отмена всех транзакций), отнимать от долга. Смотреть есть ли тайо оператион в абонементах, если да, то отменять
- добавить цену абонемента в список при продаже рядом с именем записи, нужно в запросе при получении записей получать и их цену, при этом, при прикреплении услуги или удалении нужно менять цену

- создать переменную в списке групп, которая будет получать абонемменты для одной группы при нажатии на нее


- сделать удалить услугу из записи
- редактирование цен


- кнопка рядом с именем транзакции, для печати

--------



102. При продаже абонемента, он не появлися в оплатах
104. ошибка, когда откроешь абонемент для олпты, отменить оплату за нее, долго вернется, но фиксированная сумма нет
105. Исправить ошибку с удалением индикатора
106. Сдлетать, чтобы при поиске детей, списки записей, услуг и меняли статус по рекордам найденных клиентов
107. сделать параметры фильтрации над индикаторами

- при нажатии они будут удаляться, попробовать сделать через куки, так можно будет хранить и названия тоже, при этом, хранить его в форматие ассоциативного массива, получать и находить нужный элемент и удалять его.

- при добавлении услуги к группе нужно этой услуге в records_id добавить ее айди, а при удалении удалять
- также в группе нужно удадять или добавлять услугу
- еще нужно получать айди филиала, по нему получать коррент филиала



---------------------
- при отмене оплаты, нужно отнимать отмененную сумму у оплаты за абонемент
- При продаже абонемента, нужно присваивать долг, для начала, надо сделать карту группы с прикреплением услуги, и брать цену этой услуги для абонемента
- при продаже абонемента, для оплаты можно использовать функцию оплаты
тоже самое и перерасчет, который должен быть в группе

- в рокорд клиента сделать вывод абонементов из переменной, удалить get_subs_client


Сделать создание скидки или коррекции цены для клиента, два поля, где вводиться фактическая цена и поле с процентом, при вводе фактической, считается на сколько цена увеличена или уменьшина и на оборот, при вводе процентов подставляется цена относительно текущей цены указанной в записи

Вывод скидок клиента

----

Если загрузить абонементы к оплате для транзакций, потом выйти из карты и открыть заново, то этих абонементов не будет

---

- при откырии карты группы, под именем надо показывать информацию об абонементе
- запись клиентов

-->

<div v-if="panelShow == 'home' && filtrationElementsName.length > 0" class="panels-test">
  <div class="panel-header"><div class="title-panel">Фильтрация</div></div>
  <div 
       style="padding: 0 10px 10px 10px; display: table; width: 100%; -webkit-box-sizing: border-box;
-moz-box-sizing: border-box;
box-sizing: border-box;">

    <div  v-for="element in filtrationElementsName" 
          @click="remoteElementFiltration(element.id, element.object)" 
          :key="element.id" class="sdfdsfd">

      <div class="dsfsdfasfew"><ion-icon name="add-circle-outline"></ion-icon></div>
      <span>{{ element.name }}</span>
    </div>

  </div>
</div>

<section v-if="panelShow == 'home'" class="panel-content">
  <div class="indecators">
    <div  @click="typeClients = 'current'" 
          class="indecator current"
          :class="[ typeClients == 'current' ? 'active' : '' ]">
      <div>{{ clientsCurrent.length }}</div>
      <span>Текущие клиенты</span>
    </div>
    <div  @click="typeClients = 'debtors'" 
          class="indecator debtors"
          :class="[ typeClients == 'debtors' ? 'active' : '' ]">
      <div>{{ clientsDebtors.length }}</div>
      <span>Должники</span>
    </div>
    <div  @click="typeClients = 'total'" 
          class="indecator total"
          :class="[ typeClients == 'total' ? 'active' : '' ]">
      <div>{{ clientsTotal.length }}</div>
      <span>Все клиенты</span>
    </div>
  </div>

  <div class="panel-footer">
    <div>
      <div>{{ amountTotalDebtors }}</div>
      <div>долг</div>
    </div>
  </div>
</section>

<section-home-records :records="recordsFilter" :show="panelShow"></section-home-records>

<section-home-services :services="servicesFilter" :show="panelShow"></section-home-services>

<section-home-affiliates :affiliates="affiliatesFilter" :show="panelShow"></section-home-affiliates>